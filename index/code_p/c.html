<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C</title>
	<link href="../_css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="../_css/style.css">
</head>
<body>
	<!-- ================================= Navigation ==================================== -->
	<nav class="navbar navbar-default">

		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->

			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="C:\avk\index.html">AvK <span class="glyphicon glyphicon-flash"></span></a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->

			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

				<ul class="nav navbar-nav">
			<!-- Sites -->
					<li class="dropdown">
          				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Sites<span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="C:\avk\stravkcom\index.html">stravk.com</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\sowlru\index.html">sowl.ru</a></li>
						</ul>
        			</li>
			<!-- Aero -->
					<li class="dropdown">
          				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Aero<span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="C:\avk\index\aero\general.html">General</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\aero\fem.html">FEM</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\aero\static.html">Static</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\aero\fatigue.html">Fatigue</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\aero\dt.html">Damage Tolerance</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\aero\structure.html">Structure</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\aero\doors.html">Door</a></li>
						</ul>
        			</li>
			<!-- Code General -->
					<li class="dropdown">
	      				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Code G<span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="C:\avk\index\code_g\basics.html">Basics</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\code_g\objects.html">Objects</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\code_g\algorithm.html">Algorithm</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\code_g\other_code.html">Other</a></li>
						</ul>
	    			</li>
			<!-- Code Project -->
					<li class="dropdown">
	      				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Code P<span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li class="active"><a href="C:\avk\index\code_p\c.html">C</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\code_p\unix.html">UX</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\code_p\python.html">Python</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\code_p\php.html">PHP</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\code_p\vba.html">VBA</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\code_p\ml.html">ML</a></li>
						</ul>
	    			</li>
			<!-- Front -->
					<li class="dropdown">
	      				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Front<span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="C:\avk\index\front\web.html">HTML - 1991</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\front\ecma.html">ECMA - 1995</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\front\ajax.html">AJAX - 2005</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\front\jquery.html">jQuery - 2006</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\front\nodejs.html">Node - 2009</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\front\angular.html">Angular - 2014</a></li>
						</ul>
	    			</li>
			<!-- Other -->
					<li class="dropdown">
	      				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Other<span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="C:\avk\index\other\finance.html">Finance</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\other\english.html">English</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\other\electro.html">Electro</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\other\scratch.html">Scratch</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\other\roblox.html">Roblox</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="C:\avk\index\other\other.html">Other</a></li>
						</ul>
	    			</li>
				</ul>
			</div><!-- /.navbar-collapse -->

		</div><!-- /.container-fluid -->

	</nav>
	<div class="container">
		<div class="row">
			<div class="col-sm-12 col-xs-12">
				<h3>C</h3> 
				<div class="panel-group" id="accord">

					<!-- ============================= menu ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#menu" data-toggle="collapse" data-panel="#accord">database</a> | data | menu | in_out | sort |
						</div>
						<div class="panel-collapse collapse" id="menu">
							<div class="panel-body">
								<p>
1 | main.c |<br>
_.1 | include: stdio/ stdlib/ conio/ menu.h/ data.h/in_out.h/ sort.h |<br>
_.2 | menu_item list[] = {{"Input",input}, {"Output",output}, {"Sort",sort_by_name}}; |<br>
_.3 | menu(list, sizeof list/sizeof *list); getch(); return 0; |<br>
								</p><div class="divider"></div><p>
2 | data.h | #define MAXLEN 20 | #define MAXGRADES 23 |<br>
_.1 | typedef struct{char last_name[MAXLEN]; int grade[MAXGRADES];}student; |<br>
_.2 | extern student *pstud; extern int nstud; |<br>
								</p><div class="divider"></div><p>
3 | data.c | #include"data.h" | #define N 10 |<br>
_.1 | static student group[N]={{"Orlov",{3,3,4}}, {"Ivanov",{4,5,3}}}; |<br>
_.2 | int nstud = 2; student *pstud = group; |<br>
								</p><div class="divider"></div><p>
4 | menu.h | #include"data.h" |<br>
_.1 | typedef struct{const char *text; int (*command)(student *pstud, int n);}menu_item; |<br>
_.2 | void menu(const menu_item list[], int n); |<br>
								</p><div class="divider"></div><p>
5 | menu.c | #include stdio/ stdlib/ menu.h |<br>
_.1 | void menu(const menu_item list[], int n ){int i, r; .. } |<br>
_.2 || while(1){system("cls"); for(i=0; i&lt;n; ++i) printf("%d. %s\n",i+1,list[i].text); ..}  |<br>
_.3 ||| printf("%d. %s\n",0,"Exit"); |<br>
_.4 ||| do{printf("\nEnter num: "); fflush(stdin); }while(scanf("%d",&r)!=1 || r<0 || r>=i); |<br>
_.5 ||| if(--r<0) break; nstud = list[r].command(pstud,nstud); getch(); |<br>
								</p><div class="divider"></div><p>
6 | in_out.h |<br>
_.1 | int input(student *pstud, int nstud); int output(student *pstud, int nstud); |<br>
								</p><div class="divider"></div><p>
7 | in_out.c | #include stdio/ data.h/ menu.h |<br>
_.1 | int input(student *pstud, int nstud){ return nstud; } |<br>
_.2 | int output(student *pstud, int nstud){int i,j;..} |<br>
_.3 || for(i=0; i&lt;nstud; ++i){fprintf(stdout, "%s", pstud[i].last_name);..} |<br>
_.4 ||| for(j=0;j<3;++j) fprintf(stdout, "%2d", pstud[i].grade[j]); fprintf(stdout,"\n"); |<br>
_.5 || return nstud; |<br>
								</p><div class="divider"></div><p>
8 | sort.h |<br>
_.1 | int sort_by_name(student *pstud, int nstud); |<br>
								</p><div class="divider"></div><p>
9 | sort.c | #include stdlib/ string/ data.h/ sort.h <br>
_.1 | static int name_cmp(const void *e1, const void *e2){return strcmp(..) |<br>
_._ || (((const student *)e1)->last_name), (((const student *)e2)->last_name); |<br>
_.2 | int sort_by_name(student *pstud, int nstud){..} |<br>
_._ || qsort(pstud, nstud, sizeof(student), name_cmp); return nstud; |<br>
								</p>
							</div>
						</div>
					</div>
					<!-- ============================= C1 ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#c1" data-toggle="collapse" data-panel="#accord">C1</a> | cc -o hi hi.c | var | printf | scanf | rus |
						</div>
						<div class="panel-collapse collapse" id="c1">
							<div class="panel-body">
								<p>
1 | первый проект: Linux |<br>
_.1 | sudo apt-get install g++ build-essential | компилятор gcc - gnu compiler collection |<br>
_.2 | vi hi.c | #include&lt;stdio.h&gt; | int <kbd>main</kbd>() { printf("hi\n"); } |<br>
_.3 | cc -o h hi.c | без опции -о, имя файла по умолчанию a.out |<br>
_.4 | ./h | "hi" |<br>
_.5 | file ./hi - показывет тип файла | ELF 32-bit: Executable and Linkable Format |<br>
_.6 | compiling stage | preprocess: cpp - .c | compilation: gpp - .i |<br>
_._ | assembly: as - .s | linking: ld - .o |<br>
								</p><div class="divider"></div><p>
2 | первый проект: Visual Studio 2019 |<br>
_.1 | <a href="https://visualstudio.microsoft.com/ru/vs/" target="_blank">Скачать бесплатную версию VS</a> |<br>
_.2 | средства -> импорт и экспорт параметров -> сбросить все параметры -> далее -> |<br>
_._ | нет, только сбросить -> далее -> Visual C++ -> готово -> закрыть |<br>
_.3 | File -> Создать -> проект -> пустой проект -> далее |<br>
_._ | Имя: c01; Расположение: C:\avk\test\с -> OK | Удалить все файлы |<br>
_._ | в проекте сохраняются все файлы и их настройки |<br>
_.4 | проект -> добавить новый эл-т -> код -> файл С++ -> имя: hi.c -> добавить |<br>
								</p><div class="divider"></div><p>
3 | hi.c |<br>
_.1 | int main() { } |<br>
_.2 | сборка -> компилировать |<br>
_.3 | сборка -> построить с01 | линковка, сборка |<br>
_.4 | отладка -> запуск без отладки | Ctrl+F5 |<br>
_.5 | местоположение файла exe: C:\avk\test\c\c01\Debug |<br>
_.6 | #include&lt;stdio.h&gt; | int <kbd>main</kbd>() { printf("hi\n"); return 0; } |<br>
_.7 | getchar(); - ф-ция для того, чтобы консоль не закрывалась |<br>
_.8 | F4 - переход по всем ошибкам |<br>
_.89| Ctrl+F7 - компилирование |<br>
								</p><div class="divider"></div><p>
4 | Стр-ра <kbd>main</kbd> |<br>
_.1 | int - целое значение, к-рое вернет ф-ция (код завершения программы) |<br>
_.2 | main - имя ф-ции | если ф-ции main нет в программе - программа не запустится |<br>
_._ | { } - тело ф-ции с набором инструкций |<br>
_.3 | printf() - ф-ция, вернет кол-во введеных символов (по умолчанию - int) |<br>
_.4 | return 0; - компилятор сам добавляет (0 ошибок) |<br>
_._ | если не 0, то следующую программу в цепочке UNIX не нужно запускать |<br>
_.5 | #include&lt;stdio.h&gt; - директива препроцессора |<br>
_._ | include - включить все содержимое файла |<br>
_._ | stdio.h - файл (740 строк) c библиотекой стандартных операций ввода-вывода |<br>
_.6 | /* */; // - комментарии | удобно на цифровой клавиатуре |<br>
								</p><div class="divider"></div><p>
5 | Переменные | стр-ра: #1 #2 #3 #4 a=1, b=2; |<br>
_.1 | класс памяти: auto/ extern/ static/ register |<br>
_.2 | квалификаторы: <kbd>const</kbd>/ volatile |<br>
_.3 | модификаторы: signed/ unsigned/ short/ long |<br>
_.4 | описатели(байт): char(1)/ int(4)/ float(4)/ double(8) |<br>
_.5 | идентификаторы: a, b |<br>
_.6 | инициатор: 1 - вычисляемое выражение |<br>
_.7 | ; - признак завершения конструкции, без нее не компилируется |<br>
								</p><div class="divider"></div><p>
6 | <kbd>const</kbd> |<br>
_.1 | содержимое ячейки памяти программно изменятся не может |<br>
_.2 | const long PI=3l; | default: int | l переопределяет int |<br>
_.3 | const float PI=3.14f; | default: double | f переопределяет double |<br>
_.4 | #define PI 3.14 | не рекомендуется - проблемы с С++ |<br>
_.5 | enum bool { no, yes } | перечислимые |<br>

								</p><div class="divider"></div><p>
7 | printf |<br>
_.1 | состоит из 2 частей: 1.символы для вывода | 2.форматирование (%) |<br>
_.2 | int a = 1; printf("num %d\n", a); // num 1 |<br>
_._ | int a = 1; printf("num %5d\n", a); // num _____1 | минус - левое выравнивание |<br>
_._ | printf("int = %zd byte\n", sizeof(int)); // int = 4 byte |<br>
_.3 | char a = 'A'; printf("num %c\n", a); // num A | char a = 65; |<br>
_._ | printf("char = %zd byte\n", sizeof(char)); // char = 1 byte |<br>
_._ | printf("%c %c\n", '\x15', '\xF8'); // ? ° |<br>
_.4 | char a[3] = "Ab"; printf("num %s\n", a); // num Ab |<br>
_._ | char a[3] = "Ab"; printf("string = %zd char, %zd b", strlen(a), sizeof(a)); // string = 2 char, 3 b |<br>
_.5 | float a = 1.23; printf("num %f\n", a); // num 1.230000 |<br>
_._ | float a = 1.23; printf("num %1.1f\n", a); // num 1.2 |<br>
_._ | float a = 1.23; printf("num %e\n", a); // num 1.230000e+00 |<br>
_._ | printf("float = %zd byte\n", sizeof(float)); // float = 4 byte |<br>
								</p><div class="divider"></div><p>
8 | scanf |<br>
_.1 | error C4996:'scanf': #define _CRT_SECURE_NO_WARNINGS |<br>
_.2 | char n[9]; printf("n?\n"); scanf("%s", &n); printf("hi %s\n", n); |<br>
_.3 | scanf("s=%s") | если не введено s= - программа завершается |<br>
_.4 | scanf("(3%d)3%d-2%d-2%d") - ограничение по max, меньше можно |<br>


								</p>
							</div>
						</div>
					</div>
					<!-- ============================= C2 ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#c2" data-toggle="collapse" data-panel="#accord">C2</a> | #include | .h | && | >> |
						</div>
						<div class="panel-collapse collapse" id="c2">
							<div class="panel-body">
								<p>
1 | Препроцессоры |<br>
_.1 | перед компилятором происходит обработка препроцессором |<br>
_.2 | препроцессор управляется директивами |<br>
_.3 | #include - вставляется весь указанный файл | &lt; &gt; - поиск в стандарт.каталогах |<br>
_.4 | #define XX 10 - подстанока 10 вместо XX |<br>
_._ | float.h | #define DBL_MAX 1.7976931348623158e+308 |<br>
_._ | #define __FILE__ - имя текущего обрабатываемого файла |<br>
_.5 | условная компиляция | #if | #ifdef - true, if defined |<br>
_._ | #ifndef - true, if not defined | #elif | #else | #endif |<br>
_.6 | #line | #error | #pragma |<br>
								</p><div class="divider"></div><p>
2 | math.h |<br>
_.1 | int abs(int x) | double fabs(double x) |<br>
_.2 | double ceil(double x) | floor |<br>
_.3 | double fmod(double x, double y) | остаток от деления x/y |<br>
_.4 | sqrt | pow | exp | log | sin | cos | tan |<br>
								</p><div class="divider"></div><p>
3 | stdlib.h |<br>
_.1 | system - обращение к ОС с просьбой выполнить команду |<br>
_.2 | system("pause") - вместо getchar() |<br>
_.3 | system("dir") - вывод списка файлов |<br>
_.4 | system("cls") - очистка экрана |<br>
_.5 | system("notepad") - запуск блокнота |<br>
_.6 | int a; a = rand(); printf("%d\n", a); // 41 |<br>
								</p><div class="divider"></div><p>
4 | time.h |<br>
_.1 | srand((unsigned)time(NULL)); int a; a = rand(); printf("%d\n", a); // 28837 (меняется) |<br>
_.2 | диапазон 1-20 | int a; a = rand()%20+1;  printf("%d\n", a); |<br>
								</p><div class="divider"></div><p>
5 | windows.h |<br>
_.1 | закраска консоли цветом 0x3F |<br>
_._ | SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),0x3F); |<br>
								</p><div class="divider"></div><p>
6 | Операции и преобразование |<br>
_.1 | оператор - заверщенная инструкция, распознаются по ";" |<br>
_.2 | char a=2; char b=2; a=a+++b; printf("%d %zd", a, sizeof(a)); //5 1 |<br>
_.3 | short a; int b = 100000;  a = b; printf("%d %zd", a, sizeof(a)); //-31072 2 |<br>
_.4 | float a = 2/5; printf("%f %zd", a, sizeof(a)); //0.000000 4 |<br>
_._ | чтобы получить 0.4: 2./5, (float)2/5 |<br>
_.5 | fn1() && fn2() && fn3() - если fn1 возвращает 0, то все останавливается |<br>
_.6 | тернарный | int a=1; int b=2; printf("%d %c %d", a, a > b ? '>':a < b ? '<' : '=', b); |<br>
								</p><div class="divider"></div><p>
7 | Битовые операции |<br>
_.1 | unsigned char a = 0xCA; printf("%02X\t%d%d%d%d%d%d%d%d\n", a, a>>7, (a>>6)%2, |<br>
_._ | (a >> 5) % 2, (a >> 4) % 2, (a >> 3) % 2, (a >> 2) % 2, (a >> 1) % 2, a % 2 ); //CA 11001010 |<br>
_.2 | unsigned char m = 0x0F; | ~ | a = ~0xCA; //35 00110101 | |<br>
_.3 | & | a = a & m; //05 00000101 | | | a = a | m; //3F 00111111 |<br>
_.4 | ^ | a = a ^ m; //3A 00111010 | >> | a = a>>2; //0D 00001101 |<br>
_.5 | сравнение дат: r1 = year1 << 9 | month1 << 5 | day1; |<br>
_._ | 5 бит = 2^5=32: дни | 4 бита = 2^4=16: месяцы | 4+5=9: смещение года |<br>
_.6 | високосный: leap= year%4==0 && year%100!=0 || year%400==0 |<br>
								</p><div class="divider"></div><p>
8 | Приоритеты |<br>
_.1 | доступ | l -> r | [], (), постфикс ++, -- |<br>
_.2 | унарные | l <- r | sizeof, &, *, +, -, ~, !, префикс ++, -- |<br>
_.3 | приведение типа | l <- r | (тип) |<br>
_.4 | мультипликативные | l -> r | *, /, % |<br>
_.5 | аддитивные | l -> r | +, - |<br>
_.16 | последоват.вычисление | l -> r | , |<br>
								</p><div class="divider"></div><p>
9 | Задачи |<br>
_.1 | дано: №квартиры(kv); число этажей(E) | подъезд(pd)? | этаж(et)? |<br>
_._ | pd=(kv-1)/E+1 | et=(kv-1)%E+1 |<br>
_.2 | чтение клавиш | code=getchar(); | if(code==0 || code==0xE0) code=getch() << 8 |<br>
								</p>
							</div>
						</div>
					</div>
					<!-- ============================= C3 ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#c3" data-toggle="collapse" data-panel="#accord">C3</a> | if | switch | for | while | ar[i] |
						</div>
						<div class="panel-collapse collapse" id="c3">
							<div class="panel-body">
								<p>
1 | Условия | char c; c = getchar(); |<br>
_.1 | switch (c) { case 'a': case 'b': printf("ab"); break; default: printf("other"); break;} |<br>
_.2 | int a = 4; if (a >= 5) printf("%d >= 5", a); else  printf("%d < 5", a); // 4 < 5 |<br>
								</p><div class="divider"></div><p>
2 | Циклы |<br>
_.1 | int c; for (c = 0; c <=255; ++c) printf("%c %02X\xBA", c, c); //  00║ 01║ 02║ .. |<br>
_.1 | int a=0; while (a++ < 10) { printf("n=%2d\n", a); } // n= 1;..; n=10 |<br>
_.2 | _asm {...} - встроенный ассемблер |<br>
								</p><div class="divider"></div><p>
3 | Массив | стр-ра: #1 #2 #3 ar[10]= #5; |<br>
_.1 | класс памяти: auto/ extern/ static/ register |<br>
_.2 | квалификаторы модификаторы: signed/ unsigned/ short/ long |<br>
_.3 | описатели: char(1)/ int(4)/ float(4)/ double(8) |<br>
_.4 | идентификатор: ar | #5: инициатор: {3,6,7} |<br>
_.5 | многомерный массив | int ar[3][4] |<br>
								</p><div class="divider"></div><p>
4 | Поиск индекса массива по введенному числу |<br>
_.1 | int ar[] = { 5,9,6,3,5,7,1,9,2,4 }; // задать массив |<br>
_.2 | const int n = sizeof ar / sizeof ar[0]; // определить размер |<br>
_.3 | int i; for (i = 0; i < n; ++i) { printf("%d ", ar[i]); } printf("\n"); // печать |<br>
_.4 | int x; printf("Enter: "); scanf("%d", &x);// ввод искомого значения |<br>
_.5 | for (i = 0; i < n && ar[i] != x; ++i); // выход из цикла если х найден |<br>
_.6 | if (i < n) printf("ar[%d]=%d\n", i, x); else printf("%d not found\n",x); // ar[1]=9 |<br>
_._ | ввод в конец массива х позволяет убрать проверку "i < n &&" |<br>
_.7 | n=1000 эл | сред.: n^2/2 = 500k | быстрая: n*log_n=10k |<br>
								</p><div class="divider"></div><p>
5 | Символьные массивы |<br>
_.1 | в С строк нет | char c[]="hello"; |<br>
_.2 | stdio.h | int puts() - вывод строки | int *gets() - ввод строки |<br>
_.3 | string.h | strlen() - длина строки | int strcmp() - сравнение строк |<br>
_._ | void strcpy(char s[], char t[] {int i; for(i=0; s[i]=t[i]; ++i)}; |<br>
_._ | char *strcat() - объединение |<br>
								</p><div class="divider"></div><p>
6 | Поиск простого числа |<br>
_.1 | int ar[20] = { 2 }; // резервирование массива целых чисел, arr[0]=2 |<br>
_._ | int n = 10; // сколько простых чисел нужно напечатать |<br>
_._ | int i; // кандидат на простое число |<br>
_._ | int k; // количество чисел, найденных к текущему моменту |<br>
_._ | int j; // для перебора предшедствующих элементов |<br>
_.2 | for (k=1, i=3; k&lt;n; i+=2) {..} // простое число не кратное 2: 3, 3+2=5, .. |<br>
_.__ | for (ar[k]=i, j=0; i % ar[j] != 0; ++j); |<br>
_.__ | if (j == k) ++k; |<br>
_.3 | for (i=0; i&lt;k; ++i) { printf("%d ", ar[i]); } printf("\n"); // печать  |<br>
								</p><div class="divider"></div><p>
7 | Фибоначчи |<br>
_.1 | int n = 10; int i, a, b, c; |<br>
_.2 | for (a=1, b=0, i=0; i < n; ++i) {c=a+b; a=b, b=c; printf("%d ",c);} |<br>
_.__ | i | 0 | 1 | 2 | 3 | 4 |<br>
_.__ | a | 1 | 0 | 1 | 1 | 2 |<br>
_.__ | b | 0 | 1 | 1 | 2 | 3 |<br>
_.__ | c | - | 1 | 1 | 2 | 3 |<br>
								</p>
							</div>
						</div>
					</div>
					<!-- ============================= C4 ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#c4" data-toggle="collapse" data-panel="#accord">C4</a> | fn(..){..} | extern | static |
						</div>
						<div class="panel-collapse collapse" id="c4">
							<div class="panel-body">
								<p>
1 | Функции |<br>
_.1 | не возвращает массив |<br>
_.2 | не возвращает значение - процедура (void) |<br>
_.3 | чтобы имена не совпадали с библиотечными - lowecase && len &gt; 6 |<br>
_.4 | прототипы: double pow(double v, double power); |<br>
_.5 | массив передаются как копия адреса начала массива | fn(char ar[]) |<br>
_.6 | параметры передаются по значению - передается копия |<br>
_._ | int main(){int x=2,y=5; swap(x,y)} | swap(int a, int b){int t=a; a=b; b=t;} |<br>
_._ | в С аргументы передаются справа налево: сначала a=y=5 |<br>
_._ | stack[01]-> 2(x) | [02]-> 5(y) | [03]-> 5(arg b) | [04]-> 2(arg a) |<br>
_._ | [05]-> ret_addr | [06]-> 2(t=a) | [04]-> 5(a=b) | [03]-> 2(b=t) |<br>
_._ | когда swap завершается - стек указывает на [03] | [01]=2 и [02]=5 остаются |<br>
_._ | [03]-[06] - фрейм ф-ции swap, после завершения swap() память не чистится |<br>
								</p><div class="divider"></div><p>
2 | Площадь треугольника |<br>
_.1 | #include: stdio.h, math.h, locale.h |<br>
_.2 | double <kbd>dist</kbd>(double x1, double y1, double x2, double y2); //декларация ф-ции dist |<br>
_.3 | int main() {double x1, y1, x2, y2, x3, y3, a, b, c, s, p; setlocale(LC_CTYPE, ".866"); .. } |<br>
_.__ | wprintf(L"Введите: "); scanf("%lf %lf %lf %lf %lf %lf", &x1,&y1, &x2, &y2, &x3, &y3); |<br>
_.__ | a = <kbd>dist</kbd>(x1, y1, x2, y2); b = <kbd>dist</kbd>(x2, y2, x3, y3); c = <kbd>dist</kbd>(x3, y3, x1, y1); |<br>
_.__ | p = (a + b + c) / 2; s = sqrt(p * (p - a) * (p - b) * (p - c)); |<br>
_.__ | wprintf(L"\nПлощадь = %.3g\n\n", s); |<br>
_.4 | double <kbd>dist</kbd>(double x1, double y1, double x2, double y2) {..} |<br>
_.__ | return sqrt(pow(x1 - x2, 2) + pow(y1 - y2, 2)); |<br>
								</p><div class="divider"></div><p>
3 | Классы памяти |<br>
_._ | определяет местонахождение, способ доступа и время существования |<br>
_.1 | extern | global | добавляется компилятором | default: 0 |<br>
_.2 | auto | local | выделяется место хранения на макушке стека |<br>
_.3 | register | local | просьба: держать в регистре (кэше) |<br>
_.4 | static | сохраняет значение при окончании ф-ции |<br>
_._ | local: используется для счетчика |<br>
_._ | global: нельзя получить доступ из др.файлов | default: 0 |<br>
_.__ | инкапсуляция |<br>
_.5 | typedef unsigned char byte -> unsigned char = byte |<br>
								</p><div class="divider"></div><p>
4 | Сегменты памяти |<br>
_.1 | code - располагаются машинные команды |<br>
_.2 | data - располагаются глобальные переменные |<br>
_.3 | stack |<br>
_.4 | heap (куча) |<br>
								</p><div class="divider"></div><p>
5 | Многофайловые программы |<br>
_.1 | geom.h | #ifndef GEOM_H | #define GEOM_H | .. | #endif | //защита от дублир. |<br>
_.__ | double dist(double xy1[], double xy2[], int m); |<br>
_.__ | double heron(double a, double b, double c); |<br>
_.2 | geom.c | #include&lt;math.h&gt; | #include"geom.h" |<br>
_._ | double dist(..){for(j=0; j&lt;m;++j) double s=0.0; s+=pow(xy1[j]-xy2[j],2); return sqrt(s);} |<br>
_._ | double heron(..){..} |<br>
_.3 | in_out.h | //защита от дублир. |<br>
_.__ | void print(const wchar_t format[], double s); |<br>
_.__ | void input(double xy[], int m, int i); |<br>
_.4 | in_out.c | #include&lt;stdio.h&gt; | #include"in_out.h" |<br>
_.__ | void print(..){wprintf(format, s);} | void input(..){..} |<br>
_.5 | triangle.h | //защита от дублир. | void triangle(void); |<br>
_.6 | triangle.c | #include&lt;stdio.h&gt; | #include"geom.h", "in_out.h", "triangle.h" |<br>
_.__ | #define N 3 | #define M 2 | void triangle(void){..} |<br>
_.___ | for(i=0; i&lt;N; ++i) input(xy[i], M, i+i); |<br>
_.___ | s=heron(dist(xy[0], xy[1], M), dist(xy[1], xy[2], M),dist(xy[2], xy[0], M)); |<br>
_.7 | main.c | #include&lt;locale.h&gt; | #include"triangle.h" |<br>
_._ | int main(){setlocale(LC_CTYPE, ".866"); triangle(); return 0; } |<br>
								</p>
							</div>
						</div>
					</div>
					<!-- ============================= C5 ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#c5" data-toggle="collapse" data-panel="#accord">C5</a> | int *p |
						</div>
						<div class="panel-collapse collapse" id="c5">
							<div class="panel-body">
								<p>
1 | Указатель |<br>
_.1 | адрес памяти 1ого байта выделенного блока | порядковый № байта от начала памяти |<br>
_._ | int a = 1; int *p; p = &a; printf("p=%p\n", p); //p=00FCF848 |<br>
_.2 | размер блока зависит от типа: int=4 байта и т.д. |<br>
_._ | int a,b; a=b=1; int *p1, *p2; p1=&a; p2=&b; printf("(p1=%p)-(p2=%p)=%d\n", p1, p2, p1-p2); |<br>
_._ | // (p1=009AFCB0)-(p2=009AFCA4)=3 |<br>
_.3 | размер самого указателя = 8 байт для 64-битной платформы |<br>
_.4 | const int * p1; = int const * p1;- р - указатель на int, который нельзя изменить  |<br>
_.5 | int * const p1 = &a; - нельзя изменить значение адреса |<br>
_.6 | область применения |<br>
_._ | передача в ф-цию параметров "по адресу" |<br>
_._ | работа с динамической памятью (куча) |<br>
								</p><div class="divider"></div><p>
2 | Указатель |<br>
_.1 | int **p3 = a | int **p3 = &p1; printf("(p3=%p)\n", p3); |<br>
_._ | // (p1=001BFDAC)-(p2=001BFDA0)=3 (p3=001BFD94) |<br>
_.2 | const char *p = "hi"; -> создается указатель на сегмент данных |<br>
_.3 | int roots(a, b, c, *x1, *x2){*x1=..; *x2=..} | // x1, x2 - выходные аргументы |<br>
_.4 | int main(int argc, const char **argv, const char **env){..} |<br>
_.__ | // int argc - счетчик количества переданных аргументов |<br>
_.__ | // const char **argv = *argv[] - массив указателей на строки |<br>
								</p><div class="divider"></div><p>
3 | Указатель массива |<br>
_.1 | int ar[]={1,2}; int* p_ar = ar; printf("| ar | %p | %p | %p | %d |\n", ar, &ar, p_ar, ar[0]); |<br>
_._ | // | ar | 00DEFA9C | 00DEFA9C | 00DEFA9C | 1 |<br>
								</p><div class="divider"></div><p>
4 | Указатель ф-ции |<br>
_.1 | void fn(int *p) { *p = 0; } | int main() {int a; fn(&a); printf("a=%d\n",a); } // a=0 |<br>
_._ | изменить переменную a из ф-ции fn |<br>
_._ | stack[01]->?(a) | [02]->&a(p); *p==*(&a) => *p=a | [03]->ret_addr |<br>
_.2 | void fn(int **p) { *p = NULL; } | int *a; fn(&a); printf("a=%p\n",a); } // a=00000000 |<br>
_._ | изменить указатель *a из ф-ции fn |<br>
								</p><div class="divider"></div><p>
5 | Функции работы с heap |<br>
_.1 | void *malloc( size_t size); -> выделить блок памяти размером size |<br>
_.2 | void *calloc( size_t nitems, size_t size); -> выделить блок памяти размером size |<br>
_.3 | void free(void *block); - освободить память или будет утечка памяти |<br>
								</p><div class="divider"></div><p>
6 | Qsort | #include&lt;stdio.h&gt;, locale.h, stdlib.h, string.h |<br>
_.1 | int intcmp(const void *e1, const void *e2){return *(int *)e1 - *(int *)e2; } |<br>
_._ | // *(int *)e1 - преобразование типа void в int |<br>
_.2 | int main{char name[4][32]={"c","b","a","d"}; int ar[]={2,4,1,3}; ..} |<br>
_.__ | qsort(name, 4, 32, strcmp);} | // сортировка строк, strcmp - библиотечная |<br>
_.__ | qsort(ar, sizeof ar/sizeof *ar, sizeof(int), intcmp);} | // сортировка чисел |<br>
								</p><div class="divider"></div><p>
7 | Пример |<br>
_.1 | int x=10; -> в верх стека (0х2А80) заносится значение 10 |<br>
_.2 | int y; -> в ячейку (0х2А84) заносится значение мусор |<br>
_.3 | int *p=&x; -> в ячейку (0х2А88) заносится значение 0х2А80 |<br>
_._ | если без звездочки - скопируется значение 10 |<br>
_.4 | y=x; -> поместить содержимое ячеки x (10) в ячейку y |<br>
_.5 | y=*p; -> взять (move) адрес р (0х2А88), извлеки из него значение (0х2А80), пойди по этому адресу, достань значение (10) и положи в y |<br>
_.6 | int *q=p; -> в ячейку (0х2А8C) заносится значение 0х2А80 |<br>
								</p>
							</div>
						</div>
					</div>
					<!-- ============================= C6  ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#c6" data-toggle="collapse" data-panel="#accord">C6</a> | file |
						</div>
						<div class="panel-collapse collapse" id="c6">
							<div class="panel-body">
								<p>
1 | Запись в t.txt | последавательный доступ |<br>
_.1 | FILE* file = fopen("t.txt","wt"); |<br>
_.2 | if (!file) { perror("t.txt"); exit(1); } //обработка ошибки и выход |<br>
_.3 | fputc('*', file); fputs("hi\n", file); fprintf(file, "%d\n", 2011); |<br>
_.4 | fclose(file); |<br>
								</p><div class="divider"></div><p>
2 | Чтение из t.txt | -//- |<br>
_.1 | int x; char buf[256]; FILE* file = fopen("t.txt","rt"); |<br>
_.2 | if (!file) { perror("t.txt"); exit(1); } //обработка ошибки и выход |<br>
_.3 | x = fgetc(file); putchar(x); fgets(buf, sizeof buf, file); puts(buf); |<br>
_.4 | fscanf(file, "%d", &x); printf("%d\n",x); fclose(file); |<br>
								</p><div class="divider"></div><p>
3 | Поток |<br>
_.1 | ввод и вывод - потоки байтов | stdio.h | io.h |<br>
_.2 | stdin | stdout | stderr |<br>
_.3 | делятся по способу обмена: | небуферизованные (stderr), getch() |<br>
_._ | буферизованные: строчно (stdin, stdout)  и блочно (обмен с диск.файлами) |<br>
_.4 | min единица обмена с диском - сектор (512 байт) |<br>
_.5 | программа ->  блочный буфер -> диск | буфер сбрасывается при заполнении |<br>
_.6 | принудительный сброс - команда fflush |<br>
_.7 | строчный - ожидает символа конец строки (Enter) |<br>
								</p><div class="divider"></div><p>
4 | Поток |<br>
_.1 | по способу преобразования передаваемой информации: |<br>
_._ | бинарные и текстовые (разбиты на строки) |<br>
_.2 | конец текстового файла 2 байта: CR(0x0D) LF(0x0A) |<br>
_._ | конец строки в С 1 байт: \n |<br>
_._ | конец текстового потока: Ctrl+Z(0x1A) |<br>
_.3 | конец бинарного файла: количество байтов |<br>
								</p><div class="divider"></div><p>
5 | FILE |<br>
_.1 | специальная управляющая стр-ра, используется для файл.потока |<br>
_.2 | определяется в stdio.h |<br>
_.3 | библиотечн.ф-ции используют указатель на FILE (дескриптор) |<br>
_.4 | FILE *fopen(const char *fileaname, const char *mode) |<br>
_.5 | возвращает указатель на поток | ошибка: NULL |<br>
_.6 | const char *fileaname - имя открываемого файла (filename)  |<br>
_.7 | const char *mode - режим |<br>
_._ | r-чтение | w-создать на запись | a(append)-открыть/ создать запись в конец |<br>
_._ | r+ -открыть на чтение и запись | w+ -создать на чтение и запись | a+.. |<br>
_._ | b-бинарный (a+b,..) | t-текстовый (wt,..) |<br>
_.8 | int fclose(FILE *fp) | успешно: 0 | ошибка: EOF |<br>
								</p><div class="divider"></div><p>
6 | Ф-ции работы с файлом |<br>
_.1 | вставляются между fopen и fclose |<br>
_.2 | int fgetc(FILE *stream) | int fputc(int ch, FILE *stream)  |<br>
_._ | чтение/ запись символа |<br>
_.3 | int ungetc(int ch, FILE *stream) - последний символ возвращ.в поток |<br>
_.4 | int getw(FILE *stream) | int putw(int w, FILE *stream)) |<br>
_._ | чтение/ запись машинного слова | для бинарных потоков |<br>
_.5 | char *fgets(char *string, int n, FILE *stream) | int puts(..) |<br>
_._ | чтение/ запись машинного строки |<br>
_.6 | int fprintf(FILE *stream,..) | int fscanf(FILE *stream,..) |<br>
_._ | форматированный ввод-вывод | защита от переполнения буфера |<br>
_.7 | size_t fread | size_t fwrite | безформатный бинарный ввод-вывод |<br>
_.8 | fseek | rewind | ftell | ferror | feof | clearerr | fflush |<br>
_.9 | int flushall(void) |<br>
								</p>
							</div>
						</div>
					</div>
					<!-- ============================= shared_lib ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#shared_lib" data-toggle="collapse" data-panel="#accord">shared lib</a> |
						</div>
						<div class="panel-collapse collapse" id="shared_lib">
							<div class="panel-body">
								<p>
1 | Основы |<br>
_.1 | посмотреть библиотеку vi: ldd /usr/bin/vi | ldd $(which rm) |<br>
_.2 | shared libs save memory and load faster |<br>
_.3 | enable application stay up-to-date without recompile |<br>
_.4 | can cause bugs because of conflict with new library |<br>
								</p><div class="divider"></div><p>
2 |  |<br>
_.1 |  |<br>
								</p>
							</div>
						</div>
					</div>
					<!-- ===================================== C in UX 1 ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#c_ux1" data-toggle="collapse" data-panel="#accord">C in UX 1</a> |
						</div>
						<div class="panel-collapse collapse" id="c_ux1">
							<div class="panel-body">
								<p>
1 | Программа из нескольких файлов |<br>
_.1 | .h(обращение к ядру) +.c => compile => .o (object) => link => ELF |<br>
_.2 | hexdump -c ./hi | head -1 - показывет ASCII-символы | 177 E L F |<br>
_.3 | vi main.c | int main (void) { print_hi(); } |<br>
_.4 | vi hi.c | #include &lt;stdio.h&gt; | void print_hi (void) { printf ("hi\n"); } |<br>
_.5 | cc -c main.c | cc -c hi.c | появятся 2 файла .o | nm hi.o | cc -o hi main.0 hi.o |<br>
_.6 | vi makefile | hi: main.o hi.o cc -o hi main.0 hi.o |<br>
_.7 | main.o: main.c cc -c main.c | hi.o: hi.c cc -c hi.c | clean: rm -f *.o hi | $make |<br>
								</p><div class="divider"></div><p>
2 | Модель Клиент - Интерфейс - Сервис |<br>
_.1 | vi hi.h | void print_hi (void); |<br>
_.2 | vi main.c | #include &lt;hi.h&gt; | int main (void) { print_hi(); } |<br>
_.3 | make install |<br>
_.4 | библиотека - готовый набор ф-ций | статические - .а (набор .о файлов) - все собирается в 1 большой файл | <br>
_.5 | vi hi.h | void hi (void); void bye (void); |<br>
_.6 | vi hi.c | #include &lt;stdio.h&gt; #include &lt;hi.h&gt; | void hi (void) { printf ("hi\n"); } |<br>
_.7 | vi bye.c | #include &lt;stdio.h&gt; #include &lt;hi.h&gt; | void bye (void) { printf ("bye\n"); } |<br>
_.8 | vi main.c | #include &lt;hi.h&gt; | int main (void) { hi(); bye(); } |<br>
_.9 | vi makefile | binary: | main.o: | lib.a: hi.o bye.o ar cr lib.a hi.o bye.o | hi.o: | bye.o: | clean: |<br>
_.10 | make | nm | <br>
								</p><div class="divider"></div><p>
3 | Динамическая библиотека |<br>
_.1 | vi makefile | binary: | main.o: | lib.<b>so</b>: hi.o bye.o cc -shared -o lib.so hi.o bye.o | hi.o: | bye.o: | clean: |<br>
_.2 | vi /etc/ld.so.conf.d/hi.conf | /tmp |<br>
_.3 | ldconfig | ldd binary |<br>
_.4 | environ.c | getenv.c | setenv.c | putenv.c | clearenv.c |<br>
_._ | конец 1 |<br>
								</p><div class="divider"></div><p>
4 | b1 | низкоуровневый ввод-вывод |<br>
_.1 | /proc | служебная файловая система, к-рая описывает текущие запущенные процессы и служеб. инфу, к-рую представляет ядро в виде файлов |<br>
_.2 | ls /proc/self - посмотреть инфу о своем процессе |<br>
_.3 | cat /usr/include/unistd.h - список сист. вызовов для взаимодействия с ядром |<p>
_.4 | openclose.c | &lt;fcntl.h&gt; - определение сист. вызовов и флагов |<p>
<p class="well well-sm"><code>
#include &lt;fcntl.h&gt;<br>
#include &lt;sys/stat.h&gt;<br>
#include &lt;sys/types.h&gt;<br>
#include &lt;unistd.h&gt;<br>
#include &lt;stdlib.h&gt;<br>
#include &lt;stdio.h&gt;<br>
int main (int argc, char ** argv) {<br>
	int fd;<br>
	mode_t mode = S_IRUSR | S_IWUSR;<br>
	int flags = 0_WRONGLY | 0_CREAT | 0_EXCL;<br>
	if (argc < 2){<br>
		fprintf (stderr, "openclose: Too few arguments\n");<br>
		fprintf (stderr, "Usage: openclose &lt;filename&gt;\n");<br>
		exit(1);<br>
	}<br>
	fd = open (argv[1], flags, mode);<br>
	if (fd < 0){<br>
		fprintf (stderr, "openclose: Cannot open file '%s'\n", argv[1]);<br>
		exit(1);<br>
	}<br>
	if (close(fd) != 0){<br>
		fprintf (stderr, "openclose: Cannot close file (descriptor=%d)\n", fd);<br>
		exit(1);<br>
	}<br>
	exit (0);<br>
}<br>
</code></p>
<p>
_.4 | файловый дескриптор | указатель FILE* |<br>
_.3 | cmdline | cwd - указыв. на директорию процесса | environ | exe | fd | root | stat |<br>
_.4 | чтение директории | skandir | opendir | readdir | closedir |<br>
_.5 | inode |<br>
_.6 | разреженные файлы | база данных, вирт.машина |<br>
_.7 | блокировка областей файла | fcntl() | добровольная и принудительная |<br>
								</p><div class="divider"></div><p>
5 | b2 | межпроцессное взаимодействие |<br>
_.1 | неименнованые каналы | процессы взаимодействуют через ядро | popen() | fpathconf() - посмотреть размер буфера |<br>
_.2 | именнованые каналы | mkfifo(FIFO_NAME) | Стивенс. UNIX. Взаимодействие процессов - 2003 |<br>
_._ | v3 end |<br>
								</p>
							</div>
						</div>
					</div>
					<!-- ============================= ASM ===================================== -->
					<div class="panel panel-default">
						<div class="panel-heading">
							<a href="#asm01" data-toggle="collapse" data-panel="#accord">ASM 01</a> |
						</div>
						<div class="panel-collapse collapse" id="asm01">
							<div class="panel-body">
								<p>
1 | Установка |<br>
_.1 | <a href="https://www.dosbox.com/download.php?main=1">DOSBox</a> -> Download Now |<br>
_.2 | <a href="https://drive.google.com/file/d/0B6yujleYpE2raEJzR05UaUdQSU0/view">MASM6.11</a> -> Извлечь в С:\8086 |<br>
_._ | <a href="https://drive.google.com/file/d/0B001eXddyriFbFBhclB5QmVvaVE/view">MASM6.11</a> -> Извлечь в С:\8086 |<br>
_.3 | DOSBox > mount c c:\8086 //должно появиться: Drive C is mounted as local directory |<br>
_.4 | c: |<br>
_.5 | edit 01.asm | masm /zi 01.asm | link /co 01.obj | cv /43 01<br>
								</p><div class="divider"></div><p>
2 | hi.asm |<br>
_.1 | CSEG segment - оператор ассемблера, указывающий имя сегмента (CSEG - произвольно) |<br>
_.2 | org 100h - пропуск 256 байт (зарезервированны под служебные данные) |<br>
								</p>
							</div>
						</div>
					</div>
					<!-- ======================================== Next ======================================== -->		    
				</div>	    
			</div>
		</div>
	</div>
	<script src="../_js/jquery.min.js"></script>
	<script src="../_js/bootstrap.min.js"></script>
</body>
</html>